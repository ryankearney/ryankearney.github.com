
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Comparing CDN Performance - Ryan Kearney</title>
  <meta name="author" content="Ryan Kearney">

  
  <meta name="description" content="Comparing CDN Performance Dec 5th, 2009 More and more CDN providers are appearing with competing prices and features. Here I’m going to compare &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://blog.ryankearney.com/2009/12/comparing-cdn-performance">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/style.css" rel="stylesheet">
  <link href="/atom.xml" rel="alternate" title="Ryan Kearney" type="application/atom+xml">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  

</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
      
        <li><a href="/index.html">Home</a></li>
      
    
</ul>

<ul class="nav pull-right">
    
    <li><a href="http://github.com/RyanKearney" title="Github Profile"><i class="icon-github-sign social-navbar"></i></a></li>
    
    
    
    <li><a href="http://twitter.com/RyanAKearney" title="Twitter Profile"><i class="icon-twitter-sign social-navbar"></i></a></li>
    
    
    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
    <div class="span12">
      <div class="row-fluid">
        <div id="content">
          <div>
<article class="hentry" role="article">
  

  <header>
  <div class="jumbotron">
    Comparing CDN Performance
	<h5>








  


<i class="icon-calendar-empty"></i> <time datetime="2009-12-05T12:18:00-06:00" pubdate data-updated="true">Dec 5<span>th</span>, 2009</time></h5>
  </div>
</header>
  <div class="row-fluid">
    <div class="span12">
      <p>More and more CDN providers are appearing with competing prices and features. Here I’m going to compare Amazon CloudFront, Rackspace CloudFiles, and Amazon S3.</p>

<p>First off, Amazon S3 isn’t really a CDN per se, but I’ve ran across quite a few sites comparing Rackspace Cloud to S3, which isn’t a fair comparison. Amazon S3 does, however, have its own strong points which we will get into later.</p>

<!--more-->


<h2>Response Time</h2>

<p>We will start by taking a look at the response time for the three services over a period of 1 month</p>

<p><span class='caption-wrapper'><a href='/images/2009/12/Rackspace1Month.png'><img class='caption' src='/images/2009/12/Rackspace1Month.png' width='300' height='300' alt='Response time over 1 month for Rackspace CloudFiles' title='Response time over 1 month for Rackspace CloudFiles'></a><span class='caption-text'>Response time over 1 month for Rackspace CloudFiles</span></span>
<span class='caption-wrapper'><a href='/images/2009/12/CloudFront1Month.png'><img class='caption' src='/images/2009/12/CloudFront1Month.png' width='300' height='300' alt='Response time over 1 month for AWS CloudFront' title='Response time over 1 month for AWS CloudFront'></a><span class='caption-text'>Response time over 1 month for AWS CloudFront</span></span>
<span class='caption-wrapper'><a href='/images/2009/12/AmazonS31Month.png'><img class='caption' src='/images/2009/12/AmazonS31Month.png' width='300' height='300' alt='Response time over 1 month for AWS S3' title='Response time over 1 month for AWS S3'></a><span class='caption-text'>Response time over 1 month for AWS S3</span></span></p>

<p>The average response time for Amazon S3 was <strong>819ms</strong> which is pretty bad. However, S3 was never really meant to be a CDN, this is what their Cloud Front service is for. After looking at the Cloud Front average response time we can see it to be <strong>310ms</strong>, a much better response time. And then there’s Rackspace Cloud Files, coming in at <strong>210ms</strong>, which is even better. Rackspace Cloud Files uses Limelight for their CDN solution which is one of the industry leaders in content delivery, up there with Akamai. I would have done a comparison to Akamai, however I lack the funds to even get close to that. Rackspace Cloud makes it easy to be able to use the “big guys” infrastructure without having to pay the big price.</p>

<h2>Pricing</h2>

<p>Here’s a quick breakdown of pricing for Amazon and Rackspace CDN services.</p>

<table>
<thead>
<tr>
<th> </th>
<th>Amazon                        </th>
<th>Rackspace     </th>
</tr>
</thead>
<tbody>
<tr>
<td>Storage Costs          </td>
<td>$0.15/GB†                     </td>
<td>$0.15/GB      </td>
</tr>
<tr>
<td>Bandwidth Out          </td>
<td>$0.17/GB† (US Traffic‡)       </td>
<td>$0.22/GB      </td>
</tr>
<tr>
<td>Bandwidth In           </td>
<td>Free until June 30th 2010     </td>
<td>$0.08/GB      </td>
</tr>
<tr>
<td>POST/POST/LIST Requests</td>
<td>$0.01 per 1,000               </td>
<td>$0.01 per 500 <br>Free for files over 250k</td>
</tr>
<tr>
<td>GET Requests           </td>
<td>$0.01 per 10,000 (US Traffic‡)</td>
<td>Free          </td>
</tr>
<tr>
<td>DELETE Requests        </td>
<td>Free                          </td>
<td>Free          </td>
</tr>
</tbody>
</table>


<p>*After June 30th inbound data transfer is $0.10 / GB<br/>
†Variable Cost; Decreases as more space or bandwidth is used.<br/>
‡Higher charges apply for other regions such as Japan. Please view the <a href="http://aws.amazon.com/cloudfront/#pricing">full pricing model</a>.</p>

<p>Keep in mind with Amazon, you’re paying the transfer cost to transfer your file from their S3 storage to various end points around the globe. Rackspace has no such charge. Due to amazons tiered pricing, if you needed to store and deliver hundreds to thousands of terabytes of data a month, then Amazon would be cheaper for you. But then again, if you had that much volume, chances are you don’t care what I think is best for you and you defiantly don’t need help picking the right CDN. You can view the cost calculator for both services here. <a href="http://www.rackspace.com/cloud/files/pricing">Rackspace Cloud Files</a> | <a href="http://calculator.s3.amazonaws.com/calc5.html">Amazon Web Services</a>. Keep in mind when you setup the Amazon Web Services monthly calculator you will need to add S3 and Cloud Front. The S3 account will hold all of your data, and the outbound bandwidth will vary depending on how many files you have, their sizes, and how often the Cloud Front endpoints refresh their cache of your data. Cloud Front will then be where you allocate your total projected outbound bandwidth and average object size (which is to calculate GET requests I’m guessing) as well as allocate percentages to different regions, since Amazon charges differently per GB depending on the region the server responding to the request is located.</p>

<h2>Speed</h2>

<p>Next up is a speed test. I’ve uploaded a 100MB file to Amazon S3 and Rackspace Cloud Files to download from various locations. Listed below is the time taken (in seconds) to download the 100MB file.</p>

<table>
<thead>
<tr>
<th>Network                                     </th>
<th>  Amazon                 </th>
<th>  Rackspace              </th>
</tr>
</thead>
<tbody>
<tr>
<td>Roadrunner (Central Florida (Residential))  </td>
<td> 52 Seconds (1.92 MB/s)  </td>
<td> 59 Seconds (1.71 MB/s)</td>
</tr>
<tr>
<td>Rackspace (Texas)                           </td>
<td> 2.1 Seconds (47.2 MB/s) </td>
<td> 1.9 Seconds (45.7 MB/s)</td>
</tr>
<tr>
<td>Amazon (N. Virginia)                        </td>
<td> 7.4 Seconds (13.3 MB/s) </td>
<td> 15 Seconds (6.13 MB/s)</td>
</tr>
<tr>
<td>The Planet (Texas)                          </td>
<td> 8.9 Seconds (11.2 MB/s) </td>
<td> 9.3 Seconds (10.8 MB/s)</td>
</tr>
</tbody>
</table>


<p>It’s clear the Roadrunner residential connection was the bottle neck in both downloads. However, when tested from Rackspace Cloud Servers, both Amazon Cloud Front and Rackspace Cloud Files performed quite well. In the test using Amazon EC2, it’s clear that Amazon was the winner. However, the speeds were MUCH worse than when accessed from Rackspace’s network. This leads me to believe that the only reason Amazon won that test was because of their extremely close proximity to their CDN servers. Both providers were faster when pulling from their own network, this was no surprise. However, when pulled from a separate network, in this case Roadrunner and The Planet, Amazon scored slightly faster.</p>

<h2>Features</h2>

<p>What’s a CDN without features? Well, it’s just a CDN. But hey, that’s what a CDN does, deliver content. Anything above and beyond that is an added bonus. Lets go over the various features Amazon and Rackspace have to offer.</p>

<table>
<thead>
<tr>
<th> Feature                        </th>
<th> Amazon                        </th>
<th> Rackspace    </th>
</tr>
</thead>
<tbody>
<tr>
<td>Maximum File Size               </td>
<td> 5GB                           </td>
<td> 5GB          </td>
</tr>
<tr>
<td>Free Storage->Endpoint transfer </td>
<td> No                            </td>
<td> Yes          </td>
</tr>
<tr>
<td>HTTPS                           </td>
<td> S3 Only, Wildcard Certificate </td>
<td> No          </td>
</tr>
<tr>
<td>Detailed Logs                   </td>
<td> Yes                           </td>
<td> Yes          </td>
</tr>
<tr>
<td>Custom CNAME                    </td>
<td> Yes                           </td>
<td> In the works </td>
</tr>
<tr>
<td>Custom Response Headers         </td>
<td> Yes                           </td>
<td> No           </td>
</tr>
<tr>
<td>Torrent Support                 </td>
<td> S3 Only                       </td>
<td> No          </td>
</tr>
</tbody>
</table>


<p>Two really nice features of Amazon S3 are HTTPS and Torrents. Now keep in mind these are S3 features only, meaning they don’t apply to Amazon’s CDN service Cloud Front. They use a wildcard certificate on the domain *.s3.amazonaws.com so you can use HTTPS to deliver content over S3, although most browsers will give you an invalid certificate warning (ssl_error_bad_cert_domain on firefox). Their other nice feature is torrent support. If you add “?torrent” to the end of any S3 URL, the server will return a .torrent file instead of the file requested. This is especially great for large files since you will have other users helping you out with distribution, lowering your bandwidth cost. The torrent uses Amazons’ tracker and their S3 machines are seeding the file. This way your torrent will never die, so long as the file remains on the S3 servers. Once again, while this isn’t a feature of their CDN service, it’s still a feature of S3, which is required to use their CDN service.</p>

<h2>Conclusion</h2>

<p>There are many content delivery services out there. Limelight, Akamai, Amazon, Level 3, and many others. Not all of us can afford the nice ones such as Akamai or Level 3, but that’s why there’s amazing pay-as-you-go solutions such as the two mentioned in this article, Amazon and Rackspace. There are others, I just haven’t had the time to try them all. It’s still a very close call between these two CDN’s. They both have their strong points and weaknesses. However, knowing that Rackspace Cloud Files uses Limelight Networks to deliver content really caught my attention. It really depends on how you’re using the service to determine which one is the most affordable. Amazon’s prices are a tad bit cheaper, starting at $0.17 per GB of outbound transfer inside the United States but you’ll be paying for S3 to Cloud Front transfers, as well as GET requests. Amazon also offers the ability to set custom response headers, allowing you to set custom cache settings for various content. When it comes down to it, most of the extra features that Amazon has over Rackspace don’t really apply to Cloud Front, their CDN service. These include torrents, HTTPS, and URL’s that expire after a certain time. Comparing apples to apples, Amazon has the leg up with custom CNAME support and custom response headers at the cost of having to pay for S3 to Cloud Front transfer. If you need a robust solution and plan on transferring extremely massive amounts of data, then Amazon might be your best bet. But if it’s ease of use and bandwidth provided by Limelight, one of the industry leaders in CDN, then Rackspace Cloud Files may be best for you.</p>

    </div>
  </div>



  <footer>
    <hr>
    <div class="row-fluid">
      <div class="span6">
        <p class="meta">
        
        
          



  <a href="/blog/categories/Technology/"><span class="badge">Technology</span></a>




        </p>
      </div>
      
      
      <div class="span6 social-sharing">
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="https://blog.ryankearney.com/2009/12/comparing-cdn-performance/" data-via="RyanAKearney" data-counturl="https://blog.ryankearney.com/2009/12/comparing-cdn-performance/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="false" data-width="450" data-show-faces="false" data-layout="button_count"></div>
  
</div>

      </div>
      
    </div>
    <div class="row-fluid">
      <div class="span12">
        <p class="meta">
          
            <a class="basic-alignment left" href="/2009/08/use-chrome-safari-or-opera-for-netflix-streaming/" title="Previous Post: Use Chrome, Safari, or Opera for Netflix Streaming">&laquo; Use Chrome, Safari, or Opera for Netflix Streaming</a>
          
          
            <a class="basic-alignment right" href="/2009/12/comparing-cdn-performance-part-2/" title="Next Post: Comparing CDN Performance (Part 2)">Comparing CDN Performance (Part 2) &raquo;</a>
          
        </p>
      </div>
    </div>
  </footer>
</article>

  <section>
    <h2>Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>



        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2013 - Ryan Kearney -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>


        </footer>
      </div>
    </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'ryankearneyblog';
      
        
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=233199623487249";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'https://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
